# Default config file for Zalmoxis planetary structure code

[InputParameter]
planet_mass                = 10 # Mass of the planet (in Earth masses = 5.972e24 kg)

[AssumptionsAndInitialGuesses]
core_mass_fraction         = 0.325 # Initial guess for the core mass as a fraction of the total mass
mantle_mass_fraction       = 0 # Initial guess for the mantle mass as a fraction of the total mass
weight_iron_fraction       = 0.325 # Initial guess for the weight fraction of iron in the core (0.35 for Earth)
mode                       = "linear" # Choice of input temperature profile: "isothermal", "linear", "prescribed"
T_surface                  = 2000 # Surface temperature (K), required for mode="isothermal" or "linear"
T_center                   = 3000 # Central temperature (K), required for mode="linear"
profile_file               = "temp_profile.txt" # Filename containing a prescribed temperature profile, required for mode="prescribed"

[EOS]
choice                     = "Tabulated:iron/silicate_melt" # Choice of equation of state ("Tabulated:iron/silicate", "Tabulated:iron/silicate_melt", "Tabulated:water")

[Calculations]
num_layers                 = 150 # Number of planet layers

[IterativeProcess]
max_iterations_outer       = 100 # Maximum number of iterations for the outer loop
tolerance_outer            = 3e-3 # Convergence tolerance for the outer loop
max_iterations_inner       = 100 # Maximum number of iterations for the inner loop
tolerance_inner            = 1e-4 # Convergence tolerance for the inner loop
relative_tolerance         = 1e-5 # Relative tolerance for solve_ivp
absolute_tolerance         = 1e-6 # Absolute tolerance for solve_ivp

[PressureAdjustment]
target_surface_pressure    = 101325 # Target surface pressure (Pa)
pressure_tolerance         = 1e9 # Convergence tolerance for surface pressure convergence (Pa)
max_iterations_pressure    = 200 # Maximum iterations for pressure adjustment loop
pressure_adjustment_factor = 1.1 # Adjustment factor for updating the central pressure guess

[Output]
data_enabled               = true # Flag to enable saving data to a file (true/false)
plots_enabled              = true # Flag to enable plotting the results (true/false)
verbose                    = true # If true, logs detailed convergence info and warnings; if false, only essential messages are shown (true/false)
